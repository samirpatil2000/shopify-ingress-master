function triggerCheckout(payload, gamma) {
  var growwxContainer = document.createElement("div");
  growwxContainer.id = "growwx-container";
  growwxContainer.style.width = "100%";
  growwxContainer.style.height = "100%";
  growwxContainer.style.position = "fixed";
  growwxContainer.style.display = "block";
  growwxContainer.style.top = "0px";
  growwxContainer.style.left = "0px";
  growwxContainer.style.zIndex = "2147483647";


  var ifrmContainer = document.createElement("iframe");
  ifrmContainer.id = "growwx-iframeContainer";
  var ifrm = document.createElement("iframe");
  ifrm.id = "growwx-iframe";
  ifrm.setAttribute("src", getIframeUrl(payload, gamma));
  if (isMobile()) {
    console.log("Mobile");
    ifrmContainer.style.width = "100%";
    ifrmContainer.style.height = "100vh";
    ifrmContainer.style.top = "0px";
    ifrmContainer.style.left = "0px";
    ifrmContainer.style.zIndex = "9999";
    ifrmContainer.style.backgroundColor = "rgba(0, 0, 0, 0.6)";
    ifrmContainer.allowFullscreen = true;
    ifrmContainer.style.border = "none";
    ifrm.style.width = "100%";
    ifrm.style.height = "100%";
    ifrm.style.border = "none";
    ifrm.style.position = "relative";
    ifrm.style.display = "block";
    ifrm.style.zIndex = "9999999999";
  } else {
    ifrmContainer.style.width = "100%";
    ifrmContainer.style.height = "100vh";
    ifrmContainer.style.top = "0px";
    ifrmContainer.style.left = "0px";
    ifrmContainer.style.zIndex = "9999";
    ifrmContainer.style.backgroundColor = "rgba(0, 0, 0, 0.6)";
    ifrmContainer.allowFullscreen = true;
    ifrmContainer.style.border = "none";
    ifrm.style.width = "24em";
    ifrm.style.height = "90%";
    ifrm.style.border = "none";
    ifrm.allowFullscreen = true;
    ifrm.style.position = "fixed";
    ifrm.style.top = "50%";
    ifrm.style.left = "0px";
    ifrm.style.right = "0px";
    ifrm.style.overflow = "unset";
    ifrm.style.zIndex = "9999999999";
    ifrm.style.margin = "0 auto";
    ifrm.style.display = "absolute";
    ifrm.style.borderRadius = "10px";
    ifrm.style.transform = "translateY(-50%)";
    growwxContainer.appendChild(ifrmContainer);
  }
  growwxContainer.appendChild(ifrm);
  document.body.appendChild(growwxContainer);
  document.body.style.overflow = "hidden";
  window.addEventListener("message", function (e) {
    if (e.data && e.data.event === "unload-iframe") {
      var iframe = document.getElementById("growwx-container");
      document.body.style.overflow = "auto";
      // iframe.parentNode.removeChild(iframe);
      // growwxContainer.removeChild(ifrmContainer);
      // growwxContainer.removeChild(ifrm);
      document.body.removeChild(growwxContainer);
    }
    if (e.data && e.data.event === "navigate") {
      this.window.location.replace(e.data.location);
      console.log(e.data.location);
      if (e.data.location.includes("http")) {
        console.log(e.data.location);
        clearCart();
      }

    }
    if (e.data && e.data.event === "setItem") {
      this.localStorage.setItem(e.data.key, e.data.value);
    }
    if (e.data && e.data.event === "removeItem") {
      this.localStorage.removeItem(e.data.key);
    }
  });
  ifrm.onload = function () {
    publishLocalStorage();
  };
}

function publishLocalStorage() {
  console.log("publishLocalStorage");
  setCookiesInLocalStorage()
  var localStorageMap = {};
  for (var i = 0; i < localStorage.length; i++) {
    const key = localStorage.key(i);
    localStorageMap[key] = localStorage.getItem(key);
  }
  var iframe = document.getElementById("growwx-iframe");
  iframe.contentWindow.postMessage(
    { event: "storageSync", dataMap: localStorageMap },
    "*"
  );
}

function setCookiesInLocalStorage() {
  // localStorage.setItem("_shopify_sa_p", "fbclid%3DPAAaYcp30odM6EpJZITSWfMlqTXp55CayIKGnpI-IAfj9pEGFK2k9gjfn3T6M_aem_AfcZ2ntkmw0fo-OxYWLTdXf6W_Kg2hKSqJePO6raf-zodZg6v0ciZ__idIYTXUAQJlrvQ3Ni6NC20qTxsgz3oCglBMO1ZlGNQtF9Vq6TvLS_p_vASbb-0_darLycsopLSx8")
  // localStorage.setItem("_landing_page", "%2Fproducts%2Fspinbot-battlebudz-gx10-gaming-bluetooth-tws-earbuds-with-low-latency-and-game-mode%3Ffbclid%3DPAAaYcp30odM6EpJZITSWfMlqTXp55CayIKGnpI-IAfj9pEGFK2k9gjfn3T6M_aem_AfcZ2ntkmw0fo-OxYWLTdXf6W_Kg2hKSqJePO6raf-zodZg6v0ciZ__idIYTXUAQJlrvQ3Ni6NC20qTxsgz3oCglBMO1ZlGNQtF9Vq6TvLS_p_vASbb-0_darLycsopLSx8")
  // localStorage.setItem("_landing_page", "%2Fproducts%2Fspinbot-battlebudz-gx10-gaming-bluetooth-tws-earbuds-with-low-latency-and-game-mode")
  // localStorage.setItem("_landing_page", "%2Fproducts%2Fspinbot-battlebudz-gx10-gaming-bluetooth-tws-earbuds-with-low-latency-and-game-mode?utm_campaign=blog_post&utm_medium=social&utm_source=facebook")
  cookie =  "_shopify_sa_p=fbclid%3DPAAaYcp30odM6EpJZITSWfMlqTXp55CayIKGnpI-IAfj9pEGFK2k9gjfn3T6M_aem_AfcZ2ntkmw0fo-OxYWLTdXf6W_Kg2hKSqJePO6raf-zodZg6v0ciZ__idIYTXUAQJlrvQ3Ni6NC20qTxsgz3oCglBMO1ZlGNQtF9Vq6TvLS_p_vASbb-0_darLycsopLSx8; path=/; domain=example.com; expires=Wed, 18 Apr 2024 00:00:00 UTC";
  console.log("cookies", cookie)
  const pairs = cookie.split("; ");
  for (let i = 0; i < pairs.length; i++) {
    const pair = pairs[i].split("=");
    const key = pair[0];
    const value = decodeURIComponent(pair[1]);
    if(key === "_shopify_sa_p" || key === "_landing_page"){
        localStorage.setItem(key, value);
    }
  }

}

function isMobile() {
  return screen.width <= 480;
}



function getPayload1() {
  const prev = "eyJjYXJ0Ijp7InRvdGFsX3ByaWNlIjoxLCJ0b3RhbF9kaXNjb3VudCI6MCwiaXRlbV9jb3VudCI6MSwiaXRlbXMiOlt7ImlkIjoiNzg0ODA4OTY0OTM5OCIsInF1YW50aXR5IjoxLCJ2YXJpYW50X2lkIjoiNDQ0NTk2MjM3NzY1MDIiLCJ0aXRsZSI6IlByb2R1Y3QtMiIsInByaWNlIjoxLCJvcmlnaW5hbF9wcmljZSI6MSwiZGlzY291bnRlZF9wcmljZSI6MSwidG90YWxfZGlzY291bnQiOjAsImRpc2NvdW50cyI6W10sInNrdSI6Ijg5MDQxMzA4OTc5NTUiLCJ1cmwiOiIvcHJvZHVjdHMvcHJvZHVjdC0yIiwiaW1hZ2UiOiJodHRwczovL2Nkbi5zaG9waWZ5LmNvbS9zL2ZpbGVzLzEvMDY2Ni84NDU1LzE0MTQvcHJvZHVjdHMvNjF5QkNNbXVJNEwuX1VMMTQ0MC5qcGcifV0sInJlcXVpcmVzX3NoaXBwaW5nIjp0cnVlLCJjdXJyZW5jeSI6IklOUiIsIml0ZW1zX3N1YnRvdGFsX3ByaWNlIjoxLCJjYXJ0X2xldmVsX2Rpc2NvdW50X2FwcGxpY2F0aW9ucyI6W119LCJtaWQiOiIxNzY5Y2RhYy0xOGEzLTRhZDctYWI3MS1hMjZlNWQ2M2ViOGEifQ==";
  const current = "ewogICAgImNhcnQiOiB7CiAgICAgICAgInRvdGFsX3ByaWNlIjogMiwKICAgICAgICAidG90YWxfZGlzY291bnQiOiAwLAogICAgICAgICJpdGVtX2NvdW50IjogMSwKICAgICAgICAiaXRlbXMiOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICJpZCI6IDQzOTQ5Nzg3NzQyNDMwLAogICAgICAgICAgICAgICAgInF1YW50aXR5IjogMSwKICAgICAgICAgICAgICAgICJ2YXJpYW50X2lkIjogNDM5NDk3ODc3NDI0MzAsCiAgICAgICAgICAgICAgICAidGl0bGUiOiAiQXJ0aWZpY2lhbCBmbG93ZXIgLSBBbXV5YSIsCiAgICAgICAgICAgICAgICAicHJpY2UiOiAyLAogICAgICAgICAgICAgICAgIm9yaWdpbmFsX3ByaWNlIjogMiwKICAgICAgICAgICAgICAgICJkaXNjb3VudGVkX3ByaWNlIjogMiwKICAgICAgICAgICAgICAgICJ0b3RhbF9kaXNjb3VudCI6IDAsCiAgICAgICAgICAgICAgICAiZGlzY291bnRzIjogW10sCiAgICAgICAgICAgICAgICAic2t1IjogIiIsCiAgICAgICAgICAgICAgICAiZ3JhbXMiOiAyMDAsCiAgICAgICAgICAgICAgICAidXJsIjogImh0dHBzOi8vY2RuLnNob3BpZnkuY29tL3MvZmlsZXMvMS8wNjY0LzE1MTYvNTY2Mi9wcm9kdWN0cy9GbG93ZXItYXJ0aWZpY2lhbC5qcGc/dj0xNjc1MDc5NDI3IiwKICAgICAgICAgICAgICAgICJpbWFnZSI6ICJodHRwczovL2Nkbi5zaG9waWZ5LmNvbS9zL2ZpbGVzLzEvMDY2NC8xNTE2LzU2NjIvcHJvZHVjdHMvRmxvd2VyLWFydGlmaWNpYWwuanBnP3Y9MTY3NTA3OTQyNyIKICAgICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgInJlcXVpcmVzX3NoaXBwaW5nIjogdHJ1ZSwKICAgICAgICAiY3VycmVuY3kiOiAiSU5SIiwKICAgICAgICAiaXRlbXNfc3VidG90YWxfcHJpY2UiOiAyLAogICAgICAgICJjYXJ0X2xldmVsX2Rpc2NvdW50X2FwcGxpY2F0aW9ucyI6IFtdCiAgICB9LAogICAgIm1pZCI6ICI2MTg5NGI2Yy0xNTg0LTRmMjItODFiOS05NTdjMGU4NTA0YzMiCn0="
  return current
}

function newPayload8_5() {
  return "eyJjYXJ0Ijp7InRvdGFsX3ByaWNlIjo3OTk2LCJ0b3RhbF9kaXNjb3VudCI6MjAwLCJpdGVtX2NvdW50Ijo0LCJpdGVtcyI6W3siaWQiOjQzNjUwMTQxMDYxMzQyLCJxdWFudGl0eSI6MiwidmFyaWFudF9pZCI6NDM2NTAxNDEwNjEzNDIsInRpdGxlIjoiRWxlZ2FudCBTaWx2ZXIgUm9vbSBwbGFudGVyIiwicHJpY2UiOjM5OTksIm9yaWdpbmFsX3ByaWNlIjozOTk5LCJkaXNjb3VudGVkX3ByaWNlIjozOTAxLjQyLCJ0b3RhbF9kaXNjb3VudCI6MCwiZGlzY291bnRzIjpbXSwic2t1IjoiIiwiZ3JhbXMiOjAsInVybCI6Imh0dHBzOi8vY2RuLnNob3BpZnkuY29tL3MvZmlsZXMvMS8wNjY0LzE1MTYvNTY2Mi9wcm9kdWN0cy9JbWFnZS00LTcxelNtNmJsQktMLl9BQ19VTDMyMC5qcGc/dj0xNjY4MzU1ODI5IiwiaW1hZ2UiOiJodHRwczovL2Nkbi5zaG9waWZ5LmNvbS9zL2ZpbGVzLzEvMDY2NC8xNTE2LzU2NjIvcHJvZHVjdHMvSW1hZ2UtNC03MXpTbTZibEJLTC5fQUNfVUwzMjAuanBnP3Y9MTY2ODM1NTgyOSJ9LHsiaWQiOjQzNzE0NDgzMDkzNzI2LCJxdWFudGl0eSI6MiwidmFyaWFudF9pZCI6NDM3MTQ0ODMwOTM3MjYsInRpdGxlIjoiQXJ0aWZpY2lhbCBmbG93ZXIgLSBFeG90aWNhIiwicHJpY2UiOjk5LCJvcmlnaW5hbF9wcmljZSI6OTksImRpc2NvdW50ZWRfcHJpY2UiOjk2LjU5LCJ0b3RhbF9kaXNjb3VudCI6MCwiZGlzY291bnRzIjpbXSwic2t1IjoiMTIyMiIsImdyYW1zIjoyMDAsInVybCI6Imh0dHBzOi8vY2RuLnNob3BpZnkuY29tL3MvZmlsZXMvMS8wNjY0LzE1MTYvNTY2Mi9wcm9kdWN0cy9hcnRpZmljaWFsZmxvd2VyLmpwZz92PTE2NzUwNzkzNzkiLCJpbWFnZSI6Imh0dHBzOi8vY2RuLnNob3BpZnkuY29tL3MvZmlsZXMvMS8wNjY0LzE1MTYvNTY2Mi9wcm9kdWN0cy9hcnRpZmljaWFsZmxvd2VyLmpwZz92PTE2NzUwNzkzNzkifV0sInJlcXVpcmVzX3NoaXBwaW5nIjp0cnVlLCJjdXJyZW5jeSI6IklOUiIsIml0ZW1zX3N1YnRvdGFsX3ByaWNlIjo3OTk2LCJjYXJ0X2xldmVsX2Rpc2NvdW50X2FwcGxpY2F0aW9ucyI6W119LCJtaWQiOiI2MTg5NGI2Yy0xNTg0LTRmMjItODFiOS05NTdjMGU4NTA0YzMifQ=="
}

const payloadFlaars100 = "ewogICAgImNhcnQiOiB7CiAgICAgICAgInRvdGFsX3ByaWNlIjogMTAwLAogICAgICAgICJ0b3RhbF9kaXNjb3VudCI6IDAsCiAgICAgICAgIml0ZW1fY291bnQiOiAxLAogICAgICAgICJpdGVtcyI6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgImlkIjogIjc4OTI0MDUxMjUzNDIiLAogICAgICAgICAgICAgICAgInF1YW50aXR5IjogMSwKICAgICAgICAgICAgICAgICJ2YXJpYW50X2lkIjogIjQzNzE0NDgzMDkzNzI2IiwKICAgICAgICAgICAgICAgICJ0aXRsZSI6ICJBcnRpZmljaWFsIGZsb3dlciAtIEV4b3RpY2EiLAogICAgICAgICAgICAgICAgInByaWNlIjogMTAwLAogICAgICAgICAgICAgICAgIm9yaWdpbmFsX3ByaWNlIjogMTAwLAogICAgICAgICAgICAgICAgImRpc2NvdW50ZWRfcHJpY2UiOiAxMDAsCiAgICAgICAgICAgICAgICAidG90YWxfZGlzY291bnQiOiAwLAogICAgICAgICAgICAgICAgImRpc2NvdW50cyI6IFtdLAogICAgICAgICAgICAgICAgInNrdSI6ICI4OTA0MTMwODk3OTU1IiwKICAgICAgICAgICAgICAgICJ1cmwiOiAiL3Byb2R1Y3RzL2FydGlmaWNpYWwtZmxvd2VyLWV4b3RpY2EiLAogICAgICAgICAgICAgICAgImltYWdlIjogImh0dHBzOi8vY2RuLnNob3BpZnkuY29tL3MvZmlsZXMvMS8wNjY0LzE1MTYvNTY2Mi9wcm9kdWN0cy9hcnRpZmljaWFsZmxvd2VyLmpwZyIKICAgICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgInJlcXVpcmVzX3NoaXBwaW5nIjogdHJ1ZSwKICAgICAgICAiY3VycmVuY3kiOiAiSU5SIiwKICAgICAgICAiaXRlbXNfc3VidG90YWxfcHJpY2UiOiAxMDAsCiAgICAgICAgImNhcnRfbGV2ZWxfZGlzY291bnRfYXBwbGljYXRpb25zIjogW10KICAgIH0sCiAgICAibWlkIjogIjYxODk0YjZjLTE1ODQtNGYyMi04MWI5LTk1N2MwZTg1MDRjMyIKfQ=="

const payloadFlaars4 = "eyJjYXJ0Ijp7InRvdGFsX3ByaWNlIjo0LCJ0b3RhbF9kaXNjb3VudCI6MCwiaXRlbV9jb3VudCI6MiwiaXRlbXMiOlt7ImlkIjoiNzkxNjkxNjkwMDA2MiIsInF1YW50aXR5IjoyLCJ2YXJpYW50X2lkIjoiNDM4MjUwMTA4MDI5MTAiLCJ0aXRsZSI6IlB1cnBsZSBGbG93ZXIiLCJwcmljZSI6Miwib3JpZ2luYWxfcHJpY2UiOjIsImRpc2NvdW50ZWRfcHJpY2UiOjIsInRvdGFsX2Rpc2NvdW50IjowLCJkaXNjb3VudHMiOltdLCJza3UiOiI4OTA0MTMwODk3OTU1IiwidXJsIjoiL3Byb2R1Y3RzL3B1cnBsZS1mbG93ZXIiLCJpbWFnZSI6Imh0dHBzOi8vY2RuLnNob3BpZnkuY29tL3MvZmlsZXMvMS8wNjY0LzE1MTYvNTY2Mi9wcm9kdWN0cy9wdXJwbGUtb3N0ZW9zcGVybXVtLWRhaXN5LWZsb3dlcl8xMzczLTE2LndlYnAifV0sInJlcXVpcmVzX3NoaXBwaW5nIjp0cnVlLCJjdXJyZW5jeSI6IklOUiIsIml0ZW1zX3N1YnRvdGFsX3ByaWNlIjoyLCJjYXJ0X2xldmVsX2Rpc2NvdW50X2FwcGxpY2F0aW9ucyI6W119LCJtaWQiOiI2MTg5NGI2Yy0xNTg0LTRmMjItODFiOS05NTdjMGU4NTA0YzMiLCJpbmdyZXNzVGltZSI6MTY3ODc4NjQ0MTk3OCwiaW5ncmVzc1dvcmtmbG93IjoiQlVZX05PVyJ9"

const payloadFlaarsTestDiscount = "eyJjYXJ0Ijp7InRvdGFsX3ByaWNlIjoxODkuMiwidG90YWxfZGlzY291bnQiOjAsIml0ZW1fY291bnQiOjYsIml0ZW1zIjpbeyJpZCI6NDM5NDk3ODc3NDI0MzAsInF1YW50aXR5IjoxLCJ2YXJpYW50X2lkIjo0Mzk0OTc4Nzc0MjQzMCwidGl0bGUiOiJab2RpYWMgZmxvd2VyIiwicHJpY2UiOjUsIm9yaWdpbmFsX3ByaWNlIjo1LCJkaXNjb3VudGVkX3ByaWNlIjo1LCJ0b3RhbF9kaXNjb3VudCI6MCwiZGlzY291bnRzIjpbXSwic2t1IjoiIiwiZ3JhbXMiOjIwMCwidXJsIjoiaHR0cHM6Ly9jZG4uc2hvcGlmeS5jb20vcy9maWxlcy8xLzA2NjQvMTUxNi81NjYyL3Byb2R1Y3RzL0Zsb3dlci1hcnRpZmljaWFsLmpwZz92PTE2NzUwNzk0MjciLCJpbWFnZSI6Imh0dHBzOi8vY2RuLnNob3BpZnkuY29tL3MvZmlsZXMvMS8wNjY0LzE1MTYvNTY2Mi9wcm9kdWN0cy9GbG93ZXItYXJ0aWZpY2lhbC5qcGc/dj0xNjc1MDc5NDI3In0seyJpZCI6NDM3MTQ0ODMwOTM3MjYsInF1YW50aXR5IjoyLCJ2YXJpYW50X2lkIjo0MzcxNDQ4MzA5MzcyNiwidGl0bGUiOiJBcnRpZmljaWFsIGZsb3dlciAtIEV4b3RpY2EiLCJwcmljZSI6ODkuMSwib3JpZ2luYWxfcHJpY2UiOjg5LjEsImRpc2NvdW50ZWRfcHJpY2UiOjg5LjEsInRvdGFsX2Rpc2NvdW50IjowLCJkaXNjb3VudHMiOltdLCJza3UiOiIxMjIyIiwiZ3JhbXMiOjIwMCwidXJsIjoiaHR0cHM6Ly9jZG4uc2hvcGlmeS5jb20vcy9maWxlcy8xLzA2NjQvMTUxNi81NjYyL3Byb2R1Y3RzL2FydGlmaWNpYWxmbG93ZXIuanBnP3Y9MTY3NTA3OTM3OSIsImltYWdlIjoiaHR0cHM6Ly9jZG4uc2hvcGlmeS5jb20vcy9maWxlcy8xLzA2NjQvMTUxNi81NjYyL3Byb2R1Y3RzL2FydGlmaWNpYWxmbG93ZXIuanBnP3Y9MTY3NTA3OTM3OSJ9LHsiaWQiOjQzODI1MDEwODAyOTEwLCJxdWFudGl0eSI6MywidmFyaWFudF9pZCI6NDM4MjUwMTA4MDI5MTAsInRpdGxlIjoiUHVycGxlIEZsb3dlciIsInByaWNlIjoyLCJvcmlnaW5hbF9wcmljZSI6MiwiZGlzY291bnRlZF9wcmljZSI6MiwidG90YWxfZGlzY291bnQiOjAsImRpc2NvdW50cyI6W10sInNrdSI6IiIsImdyYW1zIjoxMDAsInVybCI6Imh0dHBzOi8vY2RuLnNob3BpZnkuY29tL3MvZmlsZXMvMS8wNjY0LzE1MTYvNTY2Mi9wcm9kdWN0cy9wdXJwbGUtb3N0ZW9zcGVybXVtLWRhaXN5LWZsb3dlcl8xMzczLTE2LndlYnA/dj0xNjcyMzIxODUyIiwiaW1hZ2UiOiJodHRwczovL2Nkbi5zaG9waWZ5LmNvbS9zL2ZpbGVzLzEvMDY2NC8xNTE2LzU2NjIvcHJvZHVjdHMvcHVycGxlLW9zdGVvc3Blcm11bS1kYWlzeS1mbG93ZXJfMTM3My0xNi53ZWJwP3Y9MTY3MjMyMTg1MiJ9XSwicmVxdWlyZXNfc2hpcHBpbmciOnRydWUsImN1cnJlbmN5IjoiSU5SIiwiaXRlbXNfc3VidG90YWxfcHJpY2UiOjE4OS4yLCJjYXJ0X2xldmVsX2Rpc2NvdW50X2FwcGxpY2F0aW9ucyI6W119LCJtaWQiOiI2MTg5NGI2Yy0xNTg0LTRmMjItODFiOS05NTdjMGU4NTA0YzMiLCJpbmdyZXNzVGltZSI6MTY3ODc4ODE3MjI0NSwiaW5ncmVzc1dvcmtmbG93IjoiQ0hFQ0tPVVQifQ=="
const payloadAartzy200 = "eyJjYXJ0Ijp7InRvdGFsX3ByaWNlIjo5MDAsInRvdGFsX2Rpc2NvdW50IjowLCJpdGVtX2NvdW50IjoxLCJpdGVtcyI6W3siaWQiOiI4MDY3MzYxOTMxNTgxIiwicXVhbnRpdHkiOjEsInZhcmlhbnRfaWQiOiI0NDMzMjQ2NzI1NzY2MSIsInRpdGxlIjoiQnJhc3MgSGFtbWVyZWQgUGxhbnRlciIsInByaWNlIjo5MDAsIm9yaWdpbmFsX3ByaWNlIjo5MDAsImRpc2NvdW50ZWRfcHJpY2UiOjkwMCwidG90YWxfZGlzY291bnQiOjAsImRpc2NvdW50cyI6W10sInNrdSI6Ijg5MDQxMzA4OTc5NTUiLCJ1cmwiOiIvcHJvZHVjdHMvYnJhc3MtaGFtbWVyZWQtcGxhbnRlciIsImltYWdlIjoiaHR0cHM6Ly9jZG4uc2hvcGlmeS5jb20vcy9maWxlcy8xLzA3MDEvMjY1Ni83NzQxL3Byb2R1Y3RzL2FwN3N1LTl2ZGMyLmpwZyJ9XSwicmVxdWlyZXNfc2hpcHBpbmciOnRydWUsImN1cnJlbmN5IjoiSU5SIiwiaXRlbXNfc3VidG90YWxfcHJpY2UiOjkwMCwiY2FydF9sZXZlbF9kaXNjb3VudF9hcHBsaWNhdGlvbnMiOltdfSwibWlkIjoiNTRkMWJiYTctOTExNC00YmViLTlmMzQtYWQ3NGM5NDI5OGNmIn0="

const payloadAartzy2 = "ewogICJjYXJ0IjogewogICAgInRvdGFsX3ByaWNlIjogMiwKICAgICJ0b3RhbF9kaXNjb3VudCI6IDAsCiAgICAiaXRlbV9jb3VudCI6IDEsCiAgICAiaXRlbXMiOiBbCiAgICAgIHsKICAgICAgICAiaWQiOiAiODA2NzM2MTkzMTU4MSIsCiAgICAgICAgInF1YW50aXR5IjogMSwKICAgICAgICAidmFyaWFudF9pZCI6ICI0NDMzMjQ2NzI1NzY2MSIsCiAgICAgICAgInRpdGxlIjogIkJyYXNzIEhhbW1lcmVkIFBsYW50ZXIiLAogICAgICAgICJwcmljZSI6IDIsCiAgICAgICAgIm9yaWdpbmFsX3ByaWNlIjogMiwKICAgICAgICAiZGlzY291bnRlZF9wcmljZSI6IDIsCiAgICAgICAgInRvdGFsX2Rpc2NvdW50IjogMCwKICAgICAgICAiZGlzY291bnRzIjogW10sCiAgICAgICAgInNrdSI6ICI4OTA0MTMwODk3OTU1IiwKICAgICAgICAidXJsIjogIi9wcm9kdWN0cy9icmFzcy1oYW1tZXJlZC1wbGFudGVyIiwKICAgICAgICAiaW1hZ2UiOiAiaHR0cHM6Ly9jZG4uc2hvcGlmeS5jb20vcy9maWxlcy8xLzA3MDEvMjY1Ni83NzQxL3Byb2R1Y3RzL2FwN3N1LTl2ZGMyLmpwZyIKICAgICAgfQogICAgXSwKICAgICJyZXF1aXJlc19zaGlwcGluZyI6IHRydWUsCiAgICAiY3VycmVuY3kiOiAiSU5SIiwKICAgICJpdGVtc19zdWJ0b3RhbF9wcmljZSI6IDIsCiAgICAiY2FydF9sZXZlbF9kaXNjb3VudF9hcHBsaWNhdGlvbnMiOiBbXQogIH0sCiAgIm1pZCI6ICI1NGQxYmJhNy05MTE0LTRiZWItOWYzNC1hZDc0Yzk0Mjk4Y2YiCn0="

const payloadSpinBot = "eyJjYXJ0Ijp7InRvdGFsX3ByaWNlIjoxODk5LCJ0b3RhbF9kaXNjb3VudCI6MCwiaXRlbV9jb3VudCI6MSwiaXRlbXMiOlt7ImlkIjoiNzM4ODIxMzczOTcwOSIsInF1YW50aXR5IjoxLCJ2YXJpYW50X2lkIjoiNDI0NTU2MDQ5NTMyNzciLCJ0aXRsZSI6IlNwaW5Cb3QgUmFuZ2VyIEhYMzAwIFdpcmVsZXNzIEJsdWV0b290aCBMb3cgTGF0ZW5jeSBHYW1pbmcgSGVhZHBob25lcyIsInByaWNlIjoxODk5LCJvcmlnaW5hbF9wcmljZSI6MTg5OSwiZGlzY291bnRlZF9wcmljZSI6MTg5OSwidG90YWxfZGlzY291bnQiOjAsImRpc2NvdW50cyI6W10sInNrdSI6Ijg5MDQxMzA4OTc5NTUiLCJ1cmwiOiIvcHJvZHVjdHMvc3BpbmJvdC1yYW5nZXItaHgzMDAtd2lyZWxlc3MtYmx1ZXRvb3RoLWxvdy1sYXRlbmN5LWdhbWluZy1oZWFkcGhvbmVzIiwiaW1hZ2UiOiJodHRwczovL2Nkbi5zaG9waWZ5LmNvbS9zL2ZpbGVzLzEvMDU5MS8yODg3LzMxNDkvcHJvZHVjdHMvMWNvcHkuanBnIn1dLCJyZXF1aXJlc19zaGlwcGluZyI6dHJ1ZSwiY3VycmVuY3kiOiJJTlIiLCJpdGVtc19zdWJ0b3RhbF9wcmljZSI6MTg5OSwiY2FydF9sZXZlbF9kaXNjb3VudF9hcHBsaWNhdGlvbnMiOltdfSwibWlkIjoiNzJjNGExMjItMWI2ZC00MTMyLTg0MjgtZmMxYzY4OWZkZWU2In0="


const payloadAartyDiscount = "ewogICAgImNhcnQiOiB7CiAgICAgICAgInRvdGFsX3ByaWNlIjogMzgwMywKICAgICAgICAidG90YWxfZGlzY291bnQiOiAyMDAsCiAgICAgICAgIml0ZW1fY291bnQiOiAzLAogICAgICAgICJpdGVtcyI6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgImlkIjogNDM2NTAxNDA4OTc1MDIsCiAgICAgICAgICAgICAgICAicXVhbnRpdHkiOiAxLAogICAgICAgICAgICAgICAgInZhcmlhbnRfaWQiOiA0MzY1MDE0MDg5NzUwMiwKICAgICAgICAgICAgICAgICJ0aXRsZSI6ICJFbGVnYW50ZSBSb3lhbCBwbGFudGVyIiwKICAgICAgICAgICAgICAgICJwcmljZSI6IDM5OTksCiAgICAgICAgICAgICAgICAib3JpZ2luYWxfcHJpY2UiOiAzOTk5LAogICAgICAgICAgICAgICAgImRpc2NvdW50ZWRfcHJpY2UiOiAzNzk5LjE5LAogICAgICAgICAgICAgICAgInRvdGFsX2Rpc2NvdW50IjogMCwKICAgICAgICAgICAgICAgICJkaXNjb3VudHMiOiBbXSwKICAgICAgICAgICAgICAgICJza3UiOiAiMyIsCiAgICAgICAgICAgICAgICAiZ3JhbXMiOiAwLAogICAgICAgICAgICAgICAgInVybCI6ICJodHRwczovL2Nkbi5zaG9waWZ5LmNvbS9zL2ZpbGVzLzEvMDY2NC8xNTE2LzU2NjIvcHJvZHVjdHMvaW1hZ2UtNy5qcGc/dj0xNjY4MzU1ODI2IiwKICAgICAgICAgICAgICAgICJpbWFnZSI6ICJodHRwczovL2Nkbi5zaG9waWZ5LmNvbS9zL2ZpbGVzLzEvMDY2NC8xNTE2LzU2NjIvcHJvZHVjdHMvaW1hZ2UtNy5qcGc/dj0xNjY4MzU1ODI2IgogICAgICAgICAgICB9LAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAiaWQiOiA0MzgyNTAxMDgwMjkxMCwKICAgICAgICAgICAgICAgICJxdWFudGl0eSI6IDIsCiAgICAgICAgICAgICAgICAidmFyaWFudF9pZCI6IDQzODI1MDEwODAyOTEwLAogICAgICAgICAgICAgICAgInRpdGxlIjogIlB1cnBsZSBGbG93ZXIiLAogICAgICAgICAgICAgICAgInByaWNlIjogMiwKICAgICAgICAgICAgICAgICJvcmlnaW5hbF9wcmljZSI6IDIsCiAgICAgICAgICAgICAgICAiZGlzY291bnRlZF9wcmljZSI6IDEuOTEsCiAgICAgICAgICAgICAgICAidG90YWxfZGlzY291bnQiOiAwLAogICAgICAgICAgICAgICAgImRpc2NvdW50cyI6IFtdLAogICAgICAgICAgICAgICAgInNrdSI6ICIiLAogICAgICAgICAgICAgICAgImdyYW1zIjogMTAwLAogICAgICAgICAgICAgICAgInVybCI6ICJodHRwczovL2Nkbi5zaG9waWZ5LmNvbS9zL2ZpbGVzLzEvMDY2NC8xNTE2LzU2NjIvcHJvZHVjdHMvcHVycGxlLW9zdGVvc3Blcm11bS1kYWlzeS1mbG93ZXJfMTM3My0xNi53ZWJwP3Y9MTY3MjMyMTg1MiIsCiAgICAgICAgICAgICAgICAiaW1hZ2UiOiAiaHR0cHM6Ly9jZG4uc2hvcGlmeS5jb20vcy9maWxlcy8xLzA2NjQvMTUxNi81NjYyL3Byb2R1Y3RzL3B1cnBsZS1vc3Rlb3NwZXJtdW0tZGFpc3ktZmxvd2VyXzEzNzMtMTYud2VicD92PTE2NzIzMjE4NTIiCiAgICAgICAgICAgIH0KICAgICAgICBdLAogICAgICAgICJyZXF1aXJlc19zaGlwcGluZyI6IHRydWUsCiAgICAgICAgImN1cnJlbmN5IjogIklOUiIsCiAgICAgICAgIml0ZW1zX3N1YnRvdGFsX3ByaWNlIjogMzgwMywKICAgICAgICAiY2FydF9sZXZlbF9kaXNjb3VudF9hcHBsaWNhdGlvbnMiOiBbXQogICAgfSwKICAgICJtaWQiOiAiNjE4OTRiNmMtMTU4NC00ZjIyLTgxYjktOTU3YzBlODUwNGMzIgp9"
const payloadFlaars = "eyJjYXJ0Ijp7InRvdGFsX3ByaWNlIjozMDAwLCJ0b3RhbF9kaXNjb3VudCI6MCwiaXRlbV9jb3VudCI6MSwiaXRlbXMiOlt7ImlkIjoiNzk4MTc1NTM2NzY0NiIsInF1YW50aXR5IjoxLCJ2YXJpYW50X2lkIjoiNDQwODA5ODkwNDQ5NTgiLCJ0aXRsZSI6IkxlaGVyaXlhIENoaWZmb24gU2FyZWUgd2l0aCBCbG91c2UgUGllY2UiLCJwcmljZSI6MzAwMCwib3JpZ2luYWxfcHJpY2UiOjMwMDAsImRpc2NvdW50ZWRfcHJpY2UiOjMwMDAsInRvdGFsX2Rpc2NvdW50IjowLCJkaXNjb3VudHMiOltdLCJza3UiOiI4OTA0MTMwODk3OTU1IiwidXJsIjoiL3Byb2R1Y3RzL2xlaGVyaXlhLWNoaWZmb24tc2FyZWUtd2l0aC1ibG91c2UtcGllY2UiLCJpbWFnZSI6Imh0dHBzOi8vY2RuLnNob3BpZnkuY29tL3MvZmlsZXMvMS8wNjY0LzE1MTYvNTY2Mi9wcm9kdWN0cy9sZWhlcml5YS1wcmludGVkLWNoaWZmb24tc2FyZWUtaW4tdGVhbC1ncmVlbi12MS1za2szMTA4NC53ZWJwIn1dLCJyZXF1aXJlc19zaGlwcGluZyI6dHJ1ZSwiY3VycmVuY3kiOiJJTlIiLCJpdGVtc19zdWJ0b3RhbF9wcmljZSI6MzAwMCwiY2FydF9sZXZlbF9kaXNjb3VudF9hcHBsaWNhdGlvbnMiOltdfSwibWlkIjoiNjE4OTRiNmMtMTU4NC00ZjIyLTgxYjktOTU3YzBlODUwNGMzIn0="



const payloadLuxuryKase = "eyJjYXJ0Ijp7InRvdGFsX3ByaWNlIjo1NDksInRvdGFsX2Rpc2NvdW50IjowLCJpdGVtX2NvdW50IjoxLCJpdGVtcyI6W3siaWQiOiIiLCJxdWFudGl0eSI6MSwidmFyaWFudF9pZCI6IjQxNTQxMzQzNzcyNzcyIiwidGl0bGUiOiJMdXh1cnlLYXNlIE1hdHRlIExhc2VyIEdyYWRpZW50IENsZWFyIFBob25lIENhc2UgRm9yIGlQaG9uZSAxMSAxMiAxMyAxNCBQbHVzIE1pbmkgUHJvIE1heCIsInByaWNlIjo1NDksIm9yaWdpbmFsX3ByaWNlIjo1NDksImRpc2NvdW50ZWRfcHJpY2UiOjU0OSwidG90YWxfZGlzY291bnQiOjAsImRpc2NvdW50cyI6W10sInNrdSI6Im51bGwiLCJ1cmwiOiIvcHJvZHVjdHMvbHV4dXJ5a2FzZS1tYXR0ZS1sYXNlci1ncmFkaWVudC1jbGVhci1waG9uZS1jYXNlLWZvci1pcGhvbmUtMTEtMTItMTMtMTQtcGx1cy1taW5pLXByby1tYXgiLCJpbWFnZSI6Imh0dHBzOi8vY2RuLnNob3BpZnkuY29tL3MvZmlsZXMvMS8wNTUyLzI5NzcvNTk3Mi9wcm9kdWN0cy8xX2NkNGViN2FhLWUzZGUtNGRlOS1iYjRiLTY1NzVjNDk2OWJjMi5qcGcifV0sInJlcXVpcmVzX3NoaXBwaW5nIjp0cnVlLCJjdXJyZW5jeSI6IklOUiIsIml0ZW1zX3N1YnRvdGFsX3ByaWNlIjo1NDksImNhcnRfbGV2ZWxfZGlzY291bnRfYXBwbGljYXRpb25zIjpbXX0sIm1pZCI6ImY0MTg1ZmVhLWFjNDQtNDg4ZS1iNDcxLTYzMmRkZmNmMDBmYiIsImluZ3Jlc3NUaW1lIjoxNjgyMDY1NzQwNzEyLCJpbmdyZXNzV29ya2Zsb3ciOiJCVVlfTk9XIiwidXNlclNlc3Npb25JZCI6ImRlNTkwMTk3LTVhYzctNDNiNy1iZGY3LWE0MzExNjkwN2QzNyJ9"

function checkoutOnFlaars(){
  triggerCheckout(payloadFlaars, false)
}

function checkoutOnFlaarsGamma(){
  triggerCheckout(payloadFlaars, true)
}

function checkoutOnAartzy(){
  triggerCheckout(payloadAartzy200, false)
}

function checkoutOnSpinBot(){
  triggerCheckout(payloadSpinBot, false)
}

function checkoutOnSpinBotGamma(){
  triggerCheckout(payloadSpinBot, true)
}

function checkoutOnLuxuryKase(){
  triggerCheckout(payloadLuxuryKase)
}

function checkoutOnLuxuryKaseGamma(){
  triggerCheckout(payloadLuxuryKase, true)
}


function getIframeUrl(payload, gamma) {
  // const PROD_MASTER = "https://master.d1x4zgp7l0n0ny.amplifyapp.com"
  // const DEVELOPMENT = "https://development.dsa2svnq8e9eh.amplifyapp.com" // this is pointing to gamma
  const DEVELOPMENT = "https://development.d1x4zgp7l0n0ny.amplifyapp.com" // this is pointing to gamma
  // const GAMMA = "https://dev-shahaab.d1x4zgp7l0n0ny.amplifyapp.com"
  const LOCALHOST = "http://localhost:3000"
  var HOST = LOCALHOST;
  if (gamma) {
    HOST = DEVELOPMENT
  }
  return HOST + "/?payload=" + payload;
}
